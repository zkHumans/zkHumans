# zkHumans

Zero-Knowledge Self-Sovereign Crypto-Biometric Decentralized Identity,
Collective Association, and Access Control Platform.

## The Stack

- [SnarkyJS](https://github.com/o1-labs/SnarkyJS): TypeScript framework for
  zk-SNARKs and zkApps
- [Nx](https://nx.dev/): Next generation build system with first class monorepo
  support and powerful integrations
- [tRPC](https://trpc.io/): End-to-end typesafe APIs made easy
  - [zod](https://github.com/colinhacks/zod): TypeScript-first schema validation
    with static type inference
- [Prisma](https://www.prisma.io/): Next-generation Node.js and TypeScript ORM
- [Jest](https://github.com/jestjs/jest): Delightful JavaScript Testing
- [Traefik](https://github.com/traefik/traefik): The Cloud Native Application
  Proxy

## How it Works

- An Identity consists of:
  - one or more Authentication Factors within a Merkle Map
  - a static unique identifier (UUID) and a Merkle Map root commitment. (ie its
    current hash representing the Authentication Factors within it) .
- Each Identity's identifier:commitment is added as key:value data to a Manager
  MerkleMap
  - A Manager also has a static identifier (zkApp address) and root commitment
- A SnarkyJS SmartContract manages authenticated state transformations of the
  Manager Merkle Tree including:
  - addition of new Identities
  - addition/removal of Authentication Factors from Identities
  - authentication of Identity ownership by other composing SmartContracts
- Proving ownership of an Identity consists of proving:
  - an Authentication Factor (as key:value data) is within the Identity's
    MerkleMap
  - The Identity's key:value is within the Manager's MerkleMap
  - depending on the authenticating context, one or more Authentication Factors
    of specific types may be required to prove ownership
- Off-chain Merkle data is stored within a database powered by ZK:KV; zkHumans
  custom-build but generally useful zk-data storage solution with the following
  features:
  - data is public but secret, only the owner of an Identity may access their,
    and only their, data (ZK!), otherwise it is only random numbers to others
  - facilitates decentralized and distribted node data
  - database agnostic, refrence implemtation uses prisma for high-availability
    and local performance of SQL (using Postgres, for example)

## Contributing

[![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)

- Follow
  [`commitizen's conventional-changelog`](https://github.com/commitizen/cz-cli)
  commit message format
- Use `npm run commit` or `npx cz` for a prompt to assist writing the commit
  message properly
- The conventional commit scope (the type of change) typically corresponds to Nx
  project; ie "contracts" or "api"
  - when possible, keep git commits project- and context- specific (ok to
    deviate for some broad refactors/migrations)
  - refer to `git log <filename>` for current conventions

## Nx Workspace

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by
[Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

### Understand this workspace

Run `nx graph` to see a diagram of the dependencies of the projects.

### Remote caching

Run `npx nx connect-to-nx-cloud` to enable [remote caching](https://nx.app) and
make CI faster.

### Further help

Visit the [Nx Documentation](https://nx.dev) to learn more.
